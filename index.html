<!DOCTYPE html>
<html>
<head>
  <meta charset=utf-8>
  <title>挑战十秒整</title>
  <meta name=keywords content="挑战十秒整">
  <meta name=description content="挑战十秒整">
  <meta name=apple-mobile-web-app-capable content=yes>
  <meta name=apple-mobile-web-app-status-bar-style content=black>
  <meta name=format-detection content="telephone=no">
  <meta name=format-detection content="email=no">
  <meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=0">
  <script>
    /* 自适应设备DPR */
    window.onload = function(){ getRem(720, 100) };
    function getRem(pwidth, prem){
      var html = document.getElementsByTagName("html")[0];
      var oWidth = document.body.clientWidth || document.documentElement.clientWidth;
      html.style.fontSize = oWidth/pwidth*prem + "px";
      html.setAttribute('data-dpr', window.devicePixelRatio);
    }
  </script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    .title {
      display: flex;
      margin-top: 4vh;
      justify-content: center;
      align-items: center;
      font-size: .6rem;
      color: orange;
    }
    .box-wrap, .btn-wrap {
      display: flex;
      justify-content: center;
      margin: 15vh auto;
    }
    .box-wrap span {
      margin-right: 0.8vw;
    }
    .box-wrap .number {
      vertical-align: baseline;
      padding: 2vw;
      border: 1px solid #ccc;
      border-radius: 10%;
    }
    .box-wrap .point {
      width: 3vw;
    }
  </style>
<body>
<div class="title">挑战10秒整！</div>
<div class="box-wrap">
  <span id="f" class="number">0</span>
  <span id="e" class="number">0</span>
  <span class="point">.</span>
  <span id="d" class="number">0</span>
  <span id="c" class="number">0</span>
  <span id="b" class="number">0</span>
  <span id="a" class="number">0</span>
</div>
<div class="btn-wrap">
  <span id="operateBtn" class="button button-3d button-action button-pill">开始</span>
</div>
<script>
  var a = document.getElementById("a"),
      b = document.getElementById("b"),
      c = document.getElementById("c"),
      d = document.getElementById("d"),
      e = document.getElementById("e"),
      f = document.getElementById("f"),
      but = document.getElementById("operateBtn");
  var type = "start", interval = "", numberArr = [];
  var integerArr = "0123456789".split("");
  but.addEventListener("click", function () {
    if (type === "start") {
      but.innerText = '暂停';
      type = 'end';
      a.innerText = b.innerText = c.innerText = d.innerText = e.innerText = f.innerText = 0; // todo,待优化
      var baseDate = +new Date();
      var timestamp = 0, randomNum = 0;
      interval = setInterval(function(){
        timestamp = new Date() - baseDate;
        numberArr = timestamp.toString().split("").reverse();
        randomNum = Math.floor(Math.random()*10); // 最近一位随机~~
        a.innerText = integerArr[randomNum];
        b.innerText = numberArr[0];
        if (timestamp >= 10) c.innerText = numberArr[1];
        if (timestamp >= 100) d.innerText = numberArr[2];
        if (timestamp >= 1000) e.innerText = numberArr[3];
        if (timestamp >= 10000) f.innerText = numberArr[4];
        if (timestamp >= 99999) {
          clearInterval(interval);
          but.innerText = '再来一次';
          type = 'start';
          a.innerText = b.innerText = c.innerText = d.innerText = e.innerText = f.innerText = 9;
        }
      }, 1)
    } else {
      clearInterval(interval);
      but.innerText = '再来一次';
      type = 'start';
    }
  });
</script>
</body>
<style>
  .button-3d.button-action:active, .button-3d.button-action.active, .button-3d.button-action.is-active {
    -webkit-box-shadow: 0 2px 0 #6b9619, 0 3px 3px rgba(0, 0, 0, 0.2);
    box-shadow: 0 2px 0 #6b9619, 0 3px 3px rgba(0, 0, 0, 0.2);
  }
  .button-3d:active, .button-3d.active, .button-3d.is-active {
    top: 5px;
    -webkit-transition-property: all;
    transition-property: all;
    -webkit-transition-duration: .15s;
    transition-duration: .15s;
    -webkit-box-shadow: 0 2px 0 #bbbbbb, 0 3px 3px rgba(0, 0, 0, 0.2);
    box-shadow: 0 2px 0 #bbbbbb, 0 3px 3px rgba(0, 0, 0, 0.2);
  }
  .button-3d.button-action {
    -webkit-box-shadow: 0 7px 0 #8bc220, 0 8px 3px rgba(0, 0, 0, 0.3);
    box-shadow: 0 7px 0 #8bc220, 0 8px 3px rgba(0, 0, 0, 0.3);
  }
  .button-3d {
    position: relative;
    top: 0;
    -webkit-box-shadow: 0 7px 0 #bbbbbb, 0 8px 3px rgba(0, 0, 0, 0.2);
    box-shadow: 0 7px 0 #bbbbbb, 0 8px 3px rgba(0, 0, 0, 0.2);
  }
  .button-pill {
    border-radius: 200px;
  }
  .button-action, .button-action-flat {
    background-color: #A5DE37;
    border-color: #A5DE37;
    color: #FFF;
  }
  .button {
    color: #666;
    background-color: #EEE;
    border-color: #EEE;
    font-weight: 300;
    font-size: 16px;
    font-family: "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif;
    text-decoration: none;
    text-align: center;
    line-height: 40px;
    height: 40px;
    padding: 0 40px;
    margin: 0;
    display: inline-block;
    appearance: none;
    cursor: pointer;
    border: none;
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    -webkit-transition-property: all;
    transition-property: all;
    -webkit-transition-duration: .3s;
    transition-duration: .3s;
  }
  .button-action, .button-action-flat {
    background-color: #A5DE37;
    border-color: #A5DE37;
    color: #FFF;
  }
</style>
</html>